## 关系代数

### 选择运算（select）==>相当于SQL语句中的WHERE子句的职能

- #### **格式：σ选择谓词(关系)**

- 举个栗子： 

  - σSAL>1000(EMP)
  - 上式表示取出查询工资大于1000的所有员工的信息
  - 等价于下面的SQL语句

  ```sql
  SELECT *
  FROM EMP
  WHERE SAL > 1000
  ```

> **关系模式R（a，b，c，d）中关系代数表达式σ3<‘4’** 中的3代表第三列，整句话的意思是：
>
> **从R中选择第三列的属性值小于4的行** 

### 投影运算（project）==>相当于SQL语句中的SELECT子句的职能

- #### 格式：∏字段序列(关系)

- 举个栗子 

  - ∏ENAME,SAL(EMP)
  - 上式表示查看所有员工的姓名和工资
  - 等价于下面的SQL语句

  ```sql
  SELECT ENAME, SAL
  FROM EMP
  ```

#### `特别注意`

##### **由于投影之后不仅取消了原关系中的某些列，而且还可能取消某些元组，因为取消了某些属性列之后，就可能出现重复行，`投影结果中不应该包含重复行`**

 例子：查询学生关系Student中都有哪些系，即查询关系Student上所在系属性上的投影
Student关系如图所示： 

| `Sname` | `Sdept` |
| :-----: | :-----: |
|  李勇   |   CS    |
|  刘晨   |   CS    |
| 王小明  |   MA    |
|  张超   |   IS    |

求 ： `π Sdept(Student)`

##### 因为Student关系原来有4个元组，但是我们的投影结果需要取消重复的CS元组，因此投影结果只有三个元组：

| `Sdept` |
| :-----: |
|   CS    |
|   MA    |
|   IS    |

### 关系的组合运算==>就像SQL中select、where子句那样的组合效果

- 举个栗子 

  - ∏ENAME,SAL(σSAL>1000(EMP))
  - 上面的式子求出了所有工资大于1000的员工的名字和工资(实际上就是将**σSAL>1000(EMP)**执行的结果当做一个临时的关系，参与了投影运算得到的)
  - 等价于下面的SQL语句

  ```sql
  SELECT ENAME, SAL
  FROM EMP
  WHERE SAL > 1000
  ```

- 事实关系的组合运算就是那么简单，分析的时候把每个简单运算的结果当做一个新的关系参与后面的运算，这样一层层剥开来，再复杂的语句也变得容易分析