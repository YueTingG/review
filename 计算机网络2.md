## http状态码

*一句话，写再多记不住白搭*

#### 201 Created （已创建）

- 响应结果：该请求已成功，并因此创建了一个新的资源。
- 使用场景：作为PUT请求的返回值。

### 204 No Content (没有内容)

- 响应结果：服务器成功处理了客户端请求，但服务器无返回内容。204是HTTP中数据量最少的响应状态，204的**响应中没有body**，而且Content-Length=0。
- 使用场景：204状态在一些网站分析的代码中**最常用**到，只需要把客户端的一些信息提交给服务器而无需关心响应。

### 301 Moved Permanently（永久性重定向)

- 响应结果：表示请求的资源已被分配了新的URL，以后应使用现在所指的URL。也就是说如果已经吧资源对应的URL保存为书签了，这时应该按Location首部字段提示的URL重新保存。
- 使用场景：
- - 域名到期不想续费（或者发现了更适合网站的域名），想换个域名。
- - 在搜索引擎的搜索结果中出现了不带www的域名，而带www的域名却没有收录，这个时候可以用301重定向来告诉搜索引擎我们目标的域名是哪一个。
- - 空间服务器不稳定，换空间的时候。

### 302 Found（临时性重定向）

- 响应结果：该状态码表示请求的资源已被分配了新的URL，希望用户（本次）能使用新的URL访问。
- 使用场景：尽量使用301！

### 304 Not Modified 

 字面意思是：资源未改变，可直接使用缓存。 

这种响应一般是GET请求中带有附加条件，例如请求头中含有if-Match,if-Modified-Since等（if-Match表示只请求带有特殊标记的资源，if-Modified-Since表示请求指定时间后未变更的资源，因为本文主要讲解状态码，所以不在此引入太多http头部的相关内容，这里是为了简单解释下附加条件请求的含义）。

 这种情况下，**服务端不会返回响应主体**，含义就是：”**从你上次访问以来这个资源都没变过哟，直接使用你本地的缓存就行啦**“。 

304就是3xx里面的一个特例，因为它不算是一个重定向。（一般我们认为重定向要给出一个新的地址让客户端去访问，304如果一定要解释为重定向，只能解释为让客户端转去访问缓存-_-）

### 401 Unauthorized（未授权）

- 响应结果：表示发送的请求需要有通过HTTP认证的认证信息。另外若之前已进行过一次请求，则表示用户认证失败。返回含有401响应必须包含一个适用于被请求资源的WWW-Authenticate 首部用以质询用户信息。当浏览器初次接收到401响应，会弹出认证用的对话窗口。

- 出现原因：客户端错误，指的是由于缺乏目标资源要求的身份验证凭证，发送的请求未得到满足。

### 403 Forbidden （禁止）

- 响应结果：对请求资源的访问服务器拒绝了。服务器端没有必要给出拒绝的详细理由，但如果想作说明的话，可以在实体的主题部分对原因进行描述，这样就能让用户看到了。
- 出现原因：未获得文件系统的访问授权，访问权限出现某些问题（从未授权的发送源IP地址试图访问）等列举情况都可能是发生403的原因。

###  502 Bad Gateway 

作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。这里说明下网关和代理服务器的概念：前面我们举例子都是直接客户端向服务器发请求，实际上客户端有时候不是直接向服务器请求，这中间可能存在网关和代理。画个简单的图：

![图片描述](https://segmentfault.com/img/bVbo0GE?w=924&h=378) 

###  503 Service Unavailable 

 服务器暂时无法使用，可能是维护或者升级，反正无法使用。 

###  504 Gateway Timeout 

作为网关或者代理工作的服务器访问超时。

## ARQ协议

也是为了实现可靠传输的，它的基本原理就是每发完一个分组就停止发送，等待对方确认。在收到确认后再发下一个分组 

#### ARQ协议是什么？

**自动重传请求**（Automatic Repeat-reQuest，ARQ）是OSI模型中数据链路层和传输层的错误纠正协议之一。它通过使用**确认**和**超时**这两个机制，在不可靠服务的基础上实现可靠的信息传输。如果发送方在发送后一段时间之内没有收到确认帧，它通常会重新发送。ARQ包括停止等待ARQ协议和连续ARQ协议。

#### 根据arq协议可以延申出停止等待和连续arq协议

## 停止等待ARQ协议 

- 停止等待协议是为了实现可靠传输的，它的基本原理就是每发完一个分组就停止发送，等待对方确认（回复ACK）。如果过了一段时间（超时时间后），还是没有收到 ACK 确认，说明没有发送成功，需要重新发送，直到收到确认后再发下一个分组； 
- 在停止等待协议中，若接收方收到重复分组，就丢弃该分组，但同时还要发送确认；

## 连续ARQ协议

连续 ARQ 协议可提高信道利用率。发送方维持一个发送窗口，凡位于发送窗口内的分组可以连续发送出去，而不需要等待对方确认。接收方一般采用累计确认，对按序到达的最后一个分组发送确认，表明到这个分组为止的所有分组都已经正确收到了。

## arp协议（不是ARQ）

## 各层对应协议

```
 每一层的协议如下：
 物理层：RJ45、CLOCK、IEEE802.3    （中继器，集线器）
 数据链路：PPP、FR、HDLC、VLAN、MAC  （网桥，交换机）
 网络层：IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP、 （路由器）
 传输层：TCP、UDP、SPX
 会话层：NFS、SQL、NETBIOS、RPC
 表示层：JPEG、MPEG、ASII
 应用层：FTP、DNS、Telnet、SMTP、HTTP、WWW、NFS
 每一层的作用如下：
 物理层：通过媒介传输比特,确定机械及电气规范（比特Bit）
 数据链路层：将比特组装成帧和点到点的传递（帧Frame）
 网络层：负责数据包从源到宿的传递和网际互连（包PackeT）
 传输层：提供端到端的可靠报文传递和错误恢复（段Segment）
 会话层：建立、管理和终止会话（会话协议数据单元SPDU）
 表示层：对数据进行翻译、加密和压缩（表示协议数据单元PPDU）
 应用层：允许访问OSI环境的手段（应用协议数据单元APDU）
```

![xRetNGDfwszGt7Vx](C:\Users\78478\Desktop\review\xRetNGDfwszGt7Vx.png)

## 常用端口

```
20,21：FTP
22：SSH
23：Telnet
25：SMTP
53：DNS（UDP）
69：TFTP（类似FTP）
80：HTTP
443：HTTPS
1080：socks代理服务
8080：用户www代理服务
```

## 不同体系结构

![4039680_1523328907031_09DD8C2662B96CE14928333F055C5580](C:\Users\78478\Desktop\review\4039680_1523328907031_09DD8C2662B96CE14928333F055C5580.png)

## HTTPS加密过程

 最新推出的TLS协议，是SSL 3.0协议的升级版 

 https://mp.weixin.qq.com/s?__biz=MzA5MzY4NTQwMA==&mid=2651008910&idx=4&sn=049fa10eecb3de61b98d7f58bbb78f74&chksm=8bad9c79bcda156fc2097361977595d4a19a56ded9c8b1ca55890bfe800db0551b1723f2d7b9&mpshare=1&scene=24&srcid=08287mXFO8ufu50J99Dwdfcp&sharer_sharetime=1566958392180&sharer_shareid=21a49bdfc44694f7d1e3ef9964b3998f#rd 

1. 客户端请求服务器获取证书**公钥**。
2. 客户端(SSL/TLS)解析证书（无效会弹出警告）。
3. 客户端生成随机值（这个随机值就是密钥）。
4. 客户端用公钥加密密钥，发送给服务器。
5. 服务端用私钥解密密钥得到随机值（密钥）。---从此以后就用密钥通信
6. 将信息和随机值混合在一起进行对称加密。
7. 将加密的内容发送给客户端。
8. 客户端用秘钥解密信息。